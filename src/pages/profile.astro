---
import Layout from "../layouts/Layout.astro";
import { ProfileView } from "../components/profile";

// Get Supabase client from middleware
const supabase = Astro.locals.supabase;

// Check authentication - user is available from middleware
const user = Astro.locals.user;

// Note: Data will be fetched on the client-side by the ProfileView component
// This keeps the page simple and allows for better interactivity
---

<Layout title="MacroSpy - Profil">
  <ProfileView client:load user={user} />
</Layout>
