---
import Layout from "../layouts/Layout.astro";
import { HistoryView } from "../components/history/HistoryView";

// Get Supabase client from middleware
const supabase = Astro.locals.supabase;

// Check authentication - user is available from middleware
const user = Astro.locals.user;

// Note: HistoryView manages its own data fetching via useHistoryMeals hook
// No need to fetch data server-side
---

<Layout title="MacroSpy - Historia Posiłków">
  <HistoryView client:load user={user} />
</Layout>
